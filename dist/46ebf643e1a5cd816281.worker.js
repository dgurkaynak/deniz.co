!function(e){var r={};function t(a){if(r[a])return r[a].exports;var n=r[a]={i:a,l:!1,exports:{}};return e[a].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:a})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(a,n,function(r){return e[r]}.bind(null,n));return a},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=0)}([function(e,r){var t=1e-8;onmessage=function(e){var r=e.data.x,a=e.data.y,n=e.data.width,o=e.data.height,f=e.data.iteration,i=e.data.sourceImageDataBuffer,u=e.data.destinationImageDataBuffer,d=e.data.maskImageDataBuffer,l=new Uint8ClampedArray(i),c=new Uint8ClampedArray(u),p=new Uint8ClampedArray(d),s=new Uint8ClampedArray(c);!function(e,r,a,n,o,f,i){void 0===i&&(i=10);for(var u,d,l=!1,c=0,p=[0,0,0],s=[0,0,0],v=[0,0,0],y=[],b=[],m=[],g=[],h=[],j=[],w=[],x=[],O=0;O<i;O++){x=[!0,!0,!0];for(var M=1;M<f-1;M++){u=M*o<<2;for(var _=1;_<o-1;_++)if(0,w=[(d=u+(_<<2))-(o<<2),d-4,d+4,d+(o<<2)],a[d]>128){p=[0,0,0],s=[0,0,0],v=[0,0,0],l=!1;for(var P=0;P<4;P++)if(a[w[P]]<=128){l=!0;break}if(l){if(M>=0&&_>=0&&M<f&&_<o){y[0]=r[d+0],y[1]=r[d+0+1],y[2]=r[d+0+2],m[0]=e[d],m[1]=e[d+1],m[2]=e[d+2];for(var P=0;P<4;P++)for(var S=0;S<3;S++)b[S]=r[w[P]+0+S],g[S]=e[d+S],s[S]+=b[S],h[S]=y[S]-b[S],h[S]=h[S]>0?h[S]:-h[S],j[S]=m[S]-g[S],j[S]=j[S]>0?j[S]:-j[S],h[S]>j[S]?v[S]+=h[S]:v[S]+=j[S]}}else if(M>=0&&_>=0&&M<f&&_<o)for(var P=0;P<4;P++)for(var S=0;S<3;S++)p[S]+=n[w[P]+0+S],v[S]+=e[d+S]-e[w[P]+S];for(var S=0;S<3;S++)y[S]=.25*(p[S]+s[S]+v[S]),c=(c=Math.floor(y[S]-n[d+0+S]))>0?c:-c,x[S]&&c>t*(1+(y[S]>0?y[S]:-y[S]))&&(x[S]=!1),n[d+0+S]=y[S]}}if(x[0]&&x[1]&&x[2])break}}(l,c,p,s,n,o,f),postMessage({x:r,y:a,width:n,height:o,resultImageDataBuffer:s.buffer},[s.buffer])}}]);
//# sourceMappingURL=46ebf643e1a5cd816281.worker.js.map